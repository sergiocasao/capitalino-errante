!function(a){function b(b,c){this.$_el=a(b),this.options=a.extend({},d,c),this._href=a.trim(this.$_el.attr("href")),this.init()}var c="extLinks",d={addIcon:!0,newTab:!0,skipSelectors:{classes:[],ids:[]},skipChildTags:["IMG"]};b.prototype.init=function(){this._is_eligible()&&(this.options.addIcon&&0===this.$_el.siblings(".tc-external").length&&this.$_el.after('<span class="tc-external">'),this.options.newTab&&this.$_el.attr("target","_blank"))},b.prototype._is_eligible=function(){var a=this;if(this._is_external(this._href)&&this._is_first_child_tag_allowed()&&2==["ids","classes"].filter(function(b){return a._is_selector_allowed(b)}).length)return!0},b.prototype._is_selector_allowed=function(b){var c="ids"==b?"id":"class";if(!this.$_el.attr(c))return!0;if("object"!=typeof this.options.skipSelectors||!this.options.skipSelectors[b]||!a.isArray(this.options.skipSelectors[b]))return!0;var d=this.$_el.attr(c).split(" "),e=this.options.skipSelectors[b],f=d.filter(function(b){return-1!=a.inArray(b,e)});return 0===f.length},b.prototype._is_first_child_tag_allowed=function(){if(0===this.$_el.children().length)return!0;var b=this.$_el.children().first()[0].tagName,c=this.options.skipChildTags;return a.isArray(c)?(c=c.map(function(a){return a.toUpperCase()}),-1==a.inArray(b,c)):!0},b.prototype._is_external=function(a){var b=location.host.split(".").slice(-2).join("."),c=new RegExp(b);return""!==a&&"#"!=a&&this._isValidURL(a)?!c.test(a):void 0},b.prototype._isValidURL=function(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);